<p-toolbar>
  <ng-template pTemplate="start">
    <a routerLink="/">
      <img src="svgs/soundcloud.svg" alt="logo" class="w-3rem h-3rem">
    </a>
  </ng-template>
  <ng-template pTemplate="center">
    <form [formGroup]="form" (ngSubmit)="performSearch()" class="flex align-items-center gap-3">
      <p-button routerLink="/" icon="pi pi-home" [rounded]="true" size="large" styleClass="surface-card border-1 surface-border text-primary p-3"/>
      <p-iconField iconPosition="left">
        <p-inputIcon styleClass="pi pi-search"/>
        <input pInputText type="search" formControlName="searchTerm"/>
      </p-iconField>
    </form>
  </ng-template>
  <ng-template pTemplate="end">
    @if (authService.isAuthenticated()) {
      <div class="flex gap-2">
        <p-button 
          [rounded]="true" 
          [icon]="authService.authData()?.profilePhotoUrl ? '' : 'pi pi-user'" size="large" 
          (onClick)="menu.toggle($event)" 
          styleClass="p-0 border-none w-3rem h-3rem">
          @if (authService.authData()?.profilePhotoUrl) {
            <img [src]="authService.authData()?.profilePhotoUrl" alt="profile photo" class="avatar">
          }
        </p-button>
        <p-menu [model]="items" #menu [popup]="true"/>
      </div>
    } @else {
      <div class="flex gap-2">
        <p-button label="Sign up" [text]="true" styleClass="font-bold"></p-button>
        <p-button label="Log in" styleClass="font-bold px-4"></p-button>
      </div>
    }
  </ng-template>
</p-toolbar>